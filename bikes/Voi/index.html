<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Introduction: - WoBike</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">WoBike</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Bikes</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../Avocargo/" class="dropdown-item">Avocargo (defunct)</a>
</li>
                                    
<li>
    <a href="../Baqme/" class="dropdown-item">Baqme (E-cargo bike)</a>
</li>
                                    
<li>
    <a href="../Beam/" class="dropdown-item">Beam</a>
</li>
                                    
<li>
    <a href="../Bicikelj/" class="dropdown-item">Bicikelj</a>
</li>
                                    
<li>
    <a href="../Bird/" class="dropdown-item">Bird (Scooters)</a>
</li>
                                    
<li>
    <a href="../Bixi/" class="dropdown-item">Bixi (Montréal, QC, Canada)</a>
</li>
                                    
<li>
    <a href="../Blip/" class="dropdown-item">Blip</a>
</li>
                                    
<li>
    <a href="../Blueduck/" class="dropdown-item">Blue Duck</a>
</li>
                                    
<li>
    <a href="../Bluegogo/" class="dropdown-item">Bluegogo (defunct)</a>
</li>
                                    
<li>
    <a href="../Bolt/" class="dropdown-item">Bolt (E-Scooters)</a>
</li>
                                    
<li>
    <a href="../Bond/" class="dropdown-item">Bond (defunct)</a>
</li>
                                    
<li>
    <a href="../Call-a-Bike/" class="dropdown-item">Call a Bike</a>
</li>
                                    
<li>
    <a href="../Cambio/" class="dropdown-item">Cambio</a>
</li>
                                    
<li>
    <a href="../Cargaroo/" class="dropdown-item">Cargaroo</a>
</li>
                                    
<li>
    <a href="../Circ/" class="dropdown-item">Flash / Circ / Bird (scooters) (defunct)</a>
</li>
                                    
<li>
    <a href="../CityBikeWien/" class="dropdown-item">CityBike Wien (defunct)</a>
</li>
                                    
<li>
    <a href="../Coup/" class="dropdown-item">Coup (defunct)</a>
</li>
                                    
<li>
    <a href="../Donkey/" class="dropdown-item">Donkey Republic</a>
</li>
                                    
<li>
    <a href="../Dropbike/" class="dropdown-item">Dropbike (Canada)</a>
</li>
                                    
<li>
    <a href="../EUBike/" class="dropdown-item">Introduction (defunct)</a>
</li>
                                    
<li>
    <a href="../Eddy/" class="dropdown-item">eddy</a>
</li>
                                    
<li>
    <a href="../Emmy/" class="dropdown-item">Emmy</a>
</li>
                                    
<li>
    <a href="../EnTur/" class="dropdown-item">EnTur (Aggregate endpoint, Norway)</a>
</li>
                                    
<li>
    <a href="../Evhcle/" class="dropdown-item">Evhcle</a>
</li>
                                    
<li>
    <a href="../Evo%20Sharing/" class="dropdown-item">Evo Sharing</a>
</li>
                                    
<li>
    <a href="../Felyx/" class="dropdown-item">Felyx</a>
</li>
                                    
<li>
    <a href="../Flamingo/" class="dropdown-item">Flamingo</a>
</li>
                                    
<li>
    <a href="../Frank-e/" class="dropdown-item">Frank-e</a>
</li>
                                    
<li>
    <a href="../Go-Sharing/" class="dropdown-item">Go Sharing</a>
</li>
                                    
<li>
    <a href="../Gobee/" class="dropdown-item">Gobee Bike (gobee)</a>
</li>
                                    
<li>
    <a href="../Helbiz/" class="dropdown-item">Helbiz (Scooter)</a>
</li>
                                    
<li>
    <a href="../Hive/" class="dropdown-item">Hive (defunct)</a>
</li>
                                    
<li>
    <a href="../Jump/" class="dropdown-item">JUMP (USA) (defunct)</a>
</li>
                                    
<li>
    <a href="../Kruiser/" class="dropdown-item">Kruiser</a>
</li>
                                    
<li>
    <a href="../Lidl-Bike/" class="dropdown-item">Lidl-Bike (defunct)</a>
</li>
                                    
<li>
    <a href="../Lime/" class="dropdown-item">Lime</a>
</li>
                                    
<li>
    <a href="../Link/" class="dropdown-item">Link</a>
</li>
                                    
<li>
    <a href="../Miles/" class="dropdown-item">Miles</a>
</li>
                                    
<li>
    <a href="../Mobike/" class="dropdown-item">Mobike (defunct)</a>
</li>
                                    
<li>
    <a href="../Motivate/" class="dropdown-item">Motivate</a>
</li>
                                    
<li>
    <a href="../Neuron/" class="dropdown-item">Neuron</a>
</li>
                                    
<li>
    <a href="../Nextbike/" class="dropdown-item">Nextbike (Worldwide)</a>
</li>
                                    
<li>
    <a href="../Obike/" class="dropdown-item">Obike (defunct)</a>
</li>
                                    
<li>
    <a href="../Ofo/" class="dropdown-item">Ofo (defunct)</a>
</li>
                                    
<li>
    <a href="../Onzo/" class="dropdown-item">Onzo (bikes, Location: New Zealand) (defunct)</a>
</li>
                                    
<li>
    <a href="../Pony/" class="dropdown-item">Pony</a>
</li>
                                    
<li>
    <a href="../Ryde/" class="dropdown-item">Ryde</a>
</li>
                                    
<li>
    <a href="../Scoota/" class="dropdown-item">Scoota (defunct)</a>
</li>
                                    
<li>
    <a href="../Sigo/" class="dropdown-item">Sigo</a>
</li>
                                    
<li>
    <a href="../SocialBicycles/" class="dropdown-item">SocialBicycles (USA, Canada, Czech Republic, Poland)</a>
</li>
                                    
<li>
    <a href="../Spin/" class="dropdown-item">Spin (Bikes and Scooters)</a>
</li>
                                    
<li>
    <a href="../Stella/" class="dropdown-item">stella</a>
</li>
                                    
<li>
    <a href="../Tier/" class="dropdown-item">Tier</a>
</li>
                                    
<li>
    <a href="../Ufo/" class="dropdown-item">Ufo (defunct)</a>
</li>
                                    
<li>
    <a href="../Vaimoo/" class="dropdown-item">Vaimoo</a>
</li>
                                    
<li>
    <a href="../VeloAntwerpen/" class="dropdown-item">Velo Antwerpen</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Introduction:</a>
</li>
                                    
<li>
    <a href="../WeShare/" class="dropdown-item">WeShare (defunct)</a>
</li>
                                    
<li>
    <a href="../Wind/" class="dropdown-item">WIND (former BYKE)</a>
</li>
                                    
<li>
    <a href="../Yobike/" class="dropdown-item">Yobike and yobike-based provider (defunct)</a>
</li>
                                    
<li>
    <a href="../Zagster/" class="dropdown-item">Zagster (defunct)</a>
</li>
                                    
<li>
    <a href="../Zero/" class="dropdown-item">Zero (defunct)</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../VeloAntwerpen/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../WeShare/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/RijulTP/mkdocs-liveapi/edit/master/docs/bikes/Voi.md" class="nav-link"><i class="fa-brands fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#introduction" class="nav-link">Introduction:</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#authentication" class="nav-link">Authentication:</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#1-get-otp" class="nav-link">1 - Get OTP</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#2-verify-otp" class="nav-link">2 - Verify OTP</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#3-get-first-authtoken" class="nav-link">3 - Get first authToken</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#4-open-session" class="nav-link">4 - Open Session</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#access-scooter-data" class="nav-link">Access scooter data</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#get-zones-info" class="nav-link">Get zones info</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#get-scooter-info" class="nav-link">Get Scooter info</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="introduction">Introduction:</h1>
<p><a href="https://voi.com">VOI</a> is a Swedish ride sharing company focused on electric scooters. They have scooters placed in several cities and countries around the world, including Sweden, Spain, Italy, France and more.</p>
<p>Base url of the API is <code>https://api.voiapp.io/</code></p>
<h1 id="authentication">Authentication:</h1>
<p>The API requires an <strong>Access Token</strong>. This token is valid for only a short time (10 minutes I think, I haven't tried to measure). You get the <strong>Access Token</strong> by opening a session. You need an <strong>Authentication Token</strong> to open a session. When opening a session, you get: 
* an <strong>Access Token</strong> that you can use in the next 10 minutes or so to query data
* a new <strong>Authentication Token</strong> to open the next session</p>
<p>To get the first Authentication Token, see steps 1,2,3 below. </p>
<p>Python Script to easely obtain your token: <a href="https://gist.github.com/BastelPichi/b084aa5260331424735fadc3b8e1719d">https://gist.github.com/BastelPichi/b084aa5260331424735fadc3b8e1719d</a></p>
<p>See here example of python implementation of the session authentication (once the step 1-2-3 are done): <a href="https://github.com/hawisizu/scooter_scrapper/blob/master/providers/voi.py">https://github.com/hawisizu/scooter_scrapper/blob/master/providers/voi.py</a></p>
<h2 id="1-get-otp">1 - Get OTP</h2>
<p><code>POST</code> request to <code>https://api.voiapp.io/v1/auth/verify/phone</code></p>
<p>Body: raw/JSON</p>
<pre><code class="language-json">{
    &quot;country_code&quot;: &quot;DE&quot;,
    &quot;phone_number&quot;: &quot;176xxxxxxxx&quot;
}
</code></pre>
<p>Note: phone number is without any 0. </p>
<p>In the body of the answer, you get a UUID in a param <code>token</code>, and of course an SMS message to the provided phone number. </p>
<pre><code class="language-json">{
&quot;token&quot;: &quot;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&quot;
}
</code></pre>
<h2 id="2-verify-otp">2 - Verify OTP</h2>
<p>This request gets nothing in the answer, but is necessary so that the token works. The <code>code</code> should be the value received by SMS. </p>
<p><code>POST</code> request to <code>https://api.voiapp.io/v2/auth/verify/code</code></p>
<p>Body: raw/JSON</p>
<pre><code class="language-json">{
    &quot;code&quot;: &quot;123456&quot;,
    &quot;token&quot;: &quot;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&quot;
}
</code></pre>
<p>Answer is like the following:</p>
<pre><code class="language-json">{
    &quot;verificationStep&quot;: &quot;emailValidationRequired&quot;,
    &quot;authToken&quot;: &quot;XXXXXXXXXXXX&quot;
}
</code></pre>
<p><code>verificationStep</code> can be <code>emailValidationRequired</code>, <code>authorized</code>, <code>deviceActivationRequired</code>.</p>
<h2 id="3-get-first-authtoken">3 - Get first authToken</h2>
<p><strong>If <code>verificationStep</code> is <code>emailValidationRequired</code>:</strong><br />
This very likely means your phone number isn't linked to any account yet.</p>
<p><code>POST</code> request to <code>https://api.voiapp.io/v1/auth/verify/presence</code></p>
<p>Body: raw/JSON:</p>
<pre><code class="language-json">{
    &quot;email&quot;: &quot;xxx@xxx.com&quot;,
    &quot;token&quot;: &quot;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&quot;
}
</code></pre>
<p>(the email should apparently be valid)
Answer will be: </p>
<pre><code class="language-json">{
    &quot;authToken&quot;: &quot;xxxxxxxxxxxxxxxx&quot;
}
</code></pre>
<p><strong>If <code>verificationStep</code> is <code>deviceActivationRequired</code>:</strong><br />
This very likely means you logged into multiple devices. Per VOI tos this isn't allowed (they don't really care tho), you'll get logged out of other devices above when you have more than a few.</p>
<p><code>POST</code> request to <code>https://api.voiapp.io/v3/auth/verify/device/activate</code></p>
<p>Body: raw/JSON:</p>
<pre><code class="language-json">{
    &quot;token&quot;: &quot;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&quot;,
    &quot;provider&quot;: &quot;sms&quot;
}
</code></pre>
<p>(the email should apparently be valid)
Answer will be: </p>
<pre><code class="language-json">{
    &quot;authToken&quot;: &quot;xxxxxxxxxxxxxxxx&quot;
}
</code></pre>
<p><strong>If <code>verificationStep</code> is <code>deviceActivationRequired</code>:</strong><br />
Nothing further to do. An <code>authToken</code> is already in the response.</p>
<h2 id="4-open-session">4 - Open Session</h2>
<p><code>POST</code> request to <code>https://api.voiapp.io/v1/auth/session</code></p>
<p>Body: raw/JSON</p>
<pre><code class="language-json">{
    &quot;authenticationToken&quot;: &quot;xxxxxxxxxxxxxxxx&quot;
}
</code></pre>
<p>Answer will be: </p>
<pre><code class="language-json">{
    &quot;accessToken&quot;: &quot;yyyyyyyyyyyyyyyyy&quot;,
    &quot;authenticationToken&quot;: &quot;zzzzzzzzzzzzzzzzzzz&quot;
}
</code></pre>
<p>You will then use the <code>accessToken</code> to query the data, and the <code>authenticationToken</code> to open the next session, so that you don't have to re-do step 1-2-3</p>
<h1 id="access-scooter-data">Access scooter data</h1>
<p>Once you have an Access Token, you can query the zones info, or if you already know which zone you want to query, get the scooters of the zone. </p>
<h2 id="get-zones-info">Get zones info</h2>
<p><code>GET</code> request to <code>https://api.voiapp.io/v1/zones</code>
In the headers you need the access token you got when opening a session: 
<code>x-access-token</code>: <code>yyyyyyyyyyyyyyyyy</code></p>
<p>Answer: a long json with all the zones where VOI is currently operating, with details on the prices and forbidden zones, the max speed, etc. 
See here an example of the full zones json retrieved on Dec 20th, 2019: 
<a href="https://gist.github.com/hawisizu/4d54000dc4d5d6d2e39f6994006b74d2">https://gist.github.com/hawisizu/4d54000dc4d5d6d2e39f6994006b74d2</a></p>
<p>Notes: 
* you can also filter the results by passing <code>lng</code> and <code>lat</code> as params of the GET request.
* in the json there are some test cities</p>
<h2 id="get-scooter-info">Get Scooter info</h2>
<p><code>GET</code> request to <code>https://api.voiapp.io/v2/rides/vehicles?zone_id=&lt;ZONE_ID&gt;</code></p>
<p><code>&lt;ZONE_ID&gt;</code> has to be the ID of one of the zones. </p>
<p>In the headers you need the access token you got when opening a session: 
<code>x-access-token</code>: <code>yyyyyyyyyyyyyyyyy</code></p>
<p>Answer: </p>
<pre><code class="language-json">{
  &quot;data&quot;: {
    &quot;vehicle_groups&quot;: [
      {
        &quot;price_token&quot;: &quot;...&quot;,
        &quot;group_type&quot;: &quot;scooter&quot;,
        &quot;vehicles&quot;: [
          {
            &quot;id&quot;: &quot;274db72d-f108-417a-93e3-46acb61cfd26&quot;,
            &quot;short&quot;: &quot;kpne&quot;,
            &quot;battery&quot;: 55,
            &quot;location&quot;: {
              &quot;lng&quot;: 18.11346435546875,
              &quot;lat&quot;: 59.34138107299805
            },
            &quot;zone_id&quot;: &quot;1&quot;
          },
          {
            &quot;id&quot;: &quot;3bd0b7bf-15c0-46f8-9d3b-ecb962f1f5d5&quot;,
            &quot;short&quot;: &quot;bnjs&quot;,
            &quot;battery&quot;: 78,
            &quot;location&quot;: {
              &quot;lng&quot;: 18.088924407958984,
              &quot;lat&quot;: 59.354530334472656
            },
            &quot;zone_id&quot;: &quot;1&quot;
          }
        ]
      }
    ]
  }
}
</code></pre>
<p>The response is a nested object with information about each scooter, in a JSON format. Here is a list of the parameters in each scooter object and information about what they (most likely) do:</p>
<p><code>id</code>: A scooter ID that most likely is used internally.</p>
<p><code>short</code>: A four-character shortcode of the VOI scooter, which is used to unlock it in the app if you don´t scan the QR code on the scooter.</p>
<p><code>battery</code>: An integer representing the battery percentage of the scooter.</p>
<p><code>location</code>: An object of the scooter location.</p>
<p><code>zone_id</code>: This is most likely an indication of what zone the scooter is located in. Each VOI zone is represented by an integer.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../js/widgetla.js"></script>
        <script src="../../js/disable_shortcuts.js"></script>
        <script src="../../css/styles.css"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
